{"version":3,"sources":["spatial_navigation.js","Dashboard/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["$","GlobalConfig","selector","straightOnly","straightOverlapThreshold","rememberSource","disabled","defaultElement","enterTo","leaveFor","restrict","tabIndexIgnoreList","navigableFilter","KEYMAPPING","REVERSE","_idPool","_ready","_pause","_sections","_sectionCount","_defaultSectionId","_lastSectionId","_duringFocusChange","elementMatchesSelector","Element","prototype","matches","matchesSelector","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","matchedNodes","this","parentNode","document","querySelectorAll","slice","call","indexOf","getRect","elem","cr","getBoundingClientRect","rect","left","top","right","bottom","width","height","element","center","x","Math","floor","y","partition","rects","targetRect","groups","i","length","groupId","push","threshold","navigate","target","direction","candidates","config","priorities","distanceFunction","nearPlumbLineIsBetter","d","nearHorizonIsBetter","nearTargetLeftIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","generateDistanceFunction","internalGroups","group","concat","distance","pop","destGroup","destPriority","destDistance","sort","a","b","delta","prioritize","dest","previous","destination","reverse","j","generateId","id","String","parseSelector","get","nodeType","matchSelector","is","getCurrentFocusedElement","activeElement","body","extend","out","arguments","key","hasOwnProperty","undefined","exclude","elemList","excludedElem","Array","isArray","index","splice","isNavigable","sectionId","verifySectionSelector","offsetWidth","offsetHeight","hasAttribute","getSectionId","getSectionNavigableElements","filter","getSectionDefaultElement","getSectionLastFocusedElement","lastFocusedElement","fireEvent","type","details","cancelable","evt","createEvent","initCustomEvent","dispatchEvent","focusElement","currentFocusedElement","silentFocus","blur","focus","focusChanged","unfocusProperties","nextElement","nextSectionId","native","focusProperties","previousElement","focusExtendedSelector","charAt","focusSection","substr","next","range","addRange","Object","keys","map","fireNavigatefailed","gotoLeaveFor","focusNext","currentSectionId","extSelector","getAttribute","sectionNavigableElements","allNavigableElements","currentSectionNavigableElements","enterToElement","result","onKeyDown","altKey","ctrlKey","metaKey","shiftKey","preventDefault","stopPropagation","keyCode","cause","onKeyUp","onFocus","window","onBlur","setTimeout","SpatialNavigation","init","addEventListener","uninit","removeEventListener","clear","set","Error","add","remove","disable","enable","pause","resume","silent","autoPause","move","toLowerCase","makeFocusable","doMakeFocusable","section","forEach","setAttribute","setDefaultSection","module","exports","isPlainObject","isFunction","apply","fn","jQuery","require","dashboardNav","buttonText","link1","Dashboard","props","keyPressEvent","event","setState","keycode","backToDashboard","clickDashboard","e","pageName","clickSublink","console","log","state","className","item","onClick","Component","App","React","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d2842b8e.chunk.js","sourcesContent":["/*\r\n * A javascript-based implementation of Spatial Navigation.\r\n *\r\n * Copyright (c) 2017 Luke Chang.\r\n * https://github.com/luke-chang/js-spatial-navigation\r\n *\r\n * Licensed under the MPL 2.0.\r\n */\r\n;(function($) {\r\n    'use strict';\r\n  \r\n    /************************/\r\n    /* Global Configuration */\r\n    /************************/\r\n    // Note: an <extSelector> can be one of following types:\r\n    // - a valid selector string for \"querySelectorAll\" or jQuery (if it exists)\r\n    // - a NodeList or an array containing DOM elements\r\n    // - a single DOM element\r\n    // - a jQuery object\r\n    // - a string \"@<sectionId>\" to indicate the specified section\r\n    // - a string \"@\" to indicate the default section\r\n    var GlobalConfig = {\r\n      selector: '',           // can be a valid <extSelector> except \"@\" syntax.\r\n      straightOnly: false,\r\n      straightOverlapThreshold: 0.5,\r\n      rememberSource: false,\r\n      disabled: false,\r\n      defaultElement: '',     // <extSelector> except \"@\" syntax.\r\n      enterTo: '',            // '', 'last-focused', 'default-element'\r\n      leaveFor: null,         // {left: <extSelector>, right: <extSelector>,\r\n                              //  up: <extSelector>, down: <extSelector>}\r\n      restrict: 'self-first', // 'self-first', 'self-only', 'none'\r\n      tabIndexIgnoreList:\r\n        'a, input, select, textarea, button, iframe, [contentEditable=true]',\r\n      navigableFilter: null\r\n    };\r\n  \r\n    /*********************/\r\n    /* Constant Variable */\r\n    /*********************/\r\n    var KEYMAPPING = {\r\n      '37': 'left',\r\n      '38': 'up',\r\n      '39': 'right',\r\n      '40': 'down'\r\n    };\r\n  \r\n    var REVERSE = {\r\n      'left': 'right',\r\n      'up': 'down',\r\n      'right': 'left',\r\n      'down': 'up'\r\n    };\r\n  \r\n    var EVENT_PREFIX = 'sn:';\r\n    var ID_POOL_PREFIX = 'section-';\r\n  \r\n    /********************/\r\n    /* Private Variable */\r\n    /********************/\r\n    var _idPool = 0;\r\n    var _ready = false;\r\n    var _pause = false;\r\n    var _sections = {};\r\n    var _sectionCount = 0;\r\n    var _defaultSectionId = '';\r\n    var _lastSectionId = '';\r\n    var _duringFocusChange = false;\r\n  \r\n    /************/\r\n    /* Polyfill */\r\n    /************/\r\n    var elementMatchesSelector =\r\n      Element.prototype.matches ||\r\n      Element.prototype.matchesSelector ||\r\n      Element.prototype.mozMatchesSelector ||\r\n      Element.prototype.webkitMatchesSelector ||\r\n      Element.prototype.msMatchesSelector ||\r\n      Element.prototype.oMatchesSelector ||\r\n      function (selector) {\r\n        var matchedNodes =\r\n          (this.parentNode || this.document).querySelectorAll(selector);\r\n        return [].slice.call(matchedNodes).indexOf(this) >= 0;\r\n      };\r\n  \r\n    /*****************/\r\n    /* Core Function */\r\n    /*****************/\r\n    function getRect(elem) {\r\n      var cr = elem.getBoundingClientRect();\r\n      var rect = {\r\n          left: cr.left,\r\n          top: cr.top,\r\n          right: cr.right,\r\n          bottom: cr.bottom,\r\n          width: cr.width,\r\n          height: cr.height\r\n      };\r\n      rect.element = elem;\r\n      rect.center = {\r\n        x: rect.left + Math.floor(rect.width / 2),\r\n        y: rect.top + Math.floor(rect.height / 2)\r\n      };\r\n      rect.center.left = rect.center.right = rect.center.x;\r\n      rect.center.top = rect.center.bottom = rect.center.y;\r\n      return rect;\r\n    }\r\n  \r\n    function partition(rects, targetRect, straightOverlapThreshold) {\r\n      var groups = [[], [], [], [], [], [], [], [], []];\r\n  \r\n      for (var i = 0; i < rects.length; i++) {\r\n        var rect = rects[i];\r\n        var center = rect.center;\r\n        var x, y, groupId;\r\n  \r\n        if (center.x < targetRect.left) {\r\n          x = 0;\r\n        } else if (center.x <= targetRect.right) {\r\n          x = 1;\r\n        } else {\r\n          x = 2;\r\n        }\r\n  \r\n        if (center.y < targetRect.top) {\r\n          y = 0;\r\n        } else if (center.y <= targetRect.bottom) {\r\n          y = 1;\r\n        } else {\r\n          y = 2;\r\n        }\r\n  \r\n        groupId = y * 3 + x;\r\n        groups[groupId].push(rect);\r\n  \r\n        if ([0, 2, 6, 8].indexOf(groupId) !== -1) {\r\n          var threshold = straightOverlapThreshold;\r\n  \r\n          if (rect.left <= targetRect.right - targetRect.width * threshold) {\r\n            if (groupId === 2) {\r\n              groups[1].push(rect);\r\n            } else if (groupId === 8) {\r\n              groups[7].push(rect);\r\n            }\r\n          }\r\n  \r\n          if (rect.right >= targetRect.left + targetRect.width * threshold) {\r\n            if (groupId === 0) {\r\n              groups[1].push(rect);\r\n            } else if (groupId === 6) {\r\n              groups[7].push(rect);\r\n            }\r\n          }\r\n  \r\n          if (rect.top <= targetRect.bottom - targetRect.height * threshold) {\r\n            if (groupId === 6) {\r\n              groups[3].push(rect);\r\n            } else if (groupId === 8) {\r\n              groups[5].push(rect);\r\n            }\r\n          }\r\n  \r\n          if (rect.bottom >= targetRect.top + targetRect.height * threshold) {\r\n            if (groupId === 0) {\r\n              groups[3].push(rect);\r\n            } else if (groupId === 2) {\r\n              groups[5].push(rect);\r\n            }\r\n          }\r\n        }\r\n      }\r\n  \r\n      return groups;\r\n    }\r\n  \r\n    function generateDistanceFunction(targetRect) {\r\n      return {\r\n        nearPlumbLineIsBetter: function(rect) {\r\n          var d;\r\n          if (rect.center.x < targetRect.center.x) {\r\n            d = targetRect.center.x - rect.right;\r\n          } else {\r\n            d = rect.left - targetRect.center.x;\r\n          }\r\n          return d < 0 ? 0 : d;\r\n        },\r\n        nearHorizonIsBetter: function(rect) {\r\n          var d;\r\n          if (rect.center.y < targetRect.center.y) {\r\n            d = targetRect.center.y - rect.bottom;\r\n          } else {\r\n            d = rect.top - targetRect.center.y;\r\n          }\r\n          return d < 0 ? 0 : d;\r\n        },\r\n        nearTargetLeftIsBetter: function(rect) {\r\n          var d;\r\n          if (rect.center.x < targetRect.center.x) {\r\n            d = targetRect.left - rect.right;\r\n          } else {\r\n            d = rect.left - targetRect.left;\r\n          }\r\n          return d < 0 ? 0 : d;\r\n        },\r\n        nearTargetTopIsBetter: function(rect) {\r\n          var d;\r\n          if (rect.center.y < targetRect.center.y) {\r\n            d = targetRect.top - rect.bottom;\r\n          } else {\r\n            d = rect.top - targetRect.top;\r\n          }\r\n          return d < 0 ? 0 : d;\r\n        },\r\n        topIsBetter: function(rect) {\r\n          return rect.top;\r\n        },\r\n        bottomIsBetter: function(rect) {\r\n          return -1 * rect.bottom;\r\n        },\r\n        leftIsBetter: function(rect) {\r\n          return rect.left;\r\n        },\r\n        rightIsBetter: function(rect) {\r\n          return -1 * rect.right;\r\n        }\r\n      };\r\n    }\r\n  \r\n    function prioritize(priorities) {\r\n      var destPriority = null;\r\n      for (var i = 0; i < priorities.length; i++) {\r\n        if (priorities[i].group.length) {\r\n          destPriority = priorities[i];\r\n          break;\r\n        }\r\n      }\r\n  \r\n      if (!destPriority) {\r\n        return null;\r\n      }\r\n  \r\n      var destDistance = destPriority.distance;\r\n  \r\n      destPriority.group.sort(function(a, b) {\r\n        for (var i = 0; i < destDistance.length; i++) {\r\n          var distance = destDistance[i];\r\n          var delta = distance(a) - distance(b);\r\n          if (delta) {\r\n            return delta;\r\n          }\r\n        }\r\n        return 0;\r\n      });\r\n  \r\n      return destPriority.group;\r\n    }\r\n  \r\n    function navigate(target, direction, candidates, config) {\r\n      if (!target || !direction || !candidates || !candidates.length) {\r\n        return null;\r\n      }\r\n  \r\n      var rects = [];\r\n      for (var i = 0; i < candidates.length; i++) {\r\n        var rect = getRect(candidates[i]);\r\n        if (rect) {\r\n          rects.push(rect);\r\n        }\r\n      }\r\n      if (!rects.length) {\r\n        return null;\r\n      }\r\n  \r\n      var targetRect = getRect(target);\r\n      if (!targetRect) {\r\n        return null;\r\n      }\r\n  \r\n      var distanceFunction = generateDistanceFunction(targetRect);\r\n  \r\n      var groups = partition(\r\n        rects,\r\n        targetRect,\r\n        config.straightOverlapThreshold\r\n      );\r\n  \r\n      var internalGroups = partition(\r\n        groups[4],\r\n        targetRect.center,\r\n        config.straightOverlapThreshold\r\n      );\r\n  \r\n      var priorities;\r\n  \r\n      switch (direction) {\r\n        case 'left':\r\n          priorities = [\r\n            {\r\n              group: internalGroups[0].concat(internalGroups[3])\r\n                                       .concat(internalGroups[6]),\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.topIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[3],\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.topIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[0].concat(groups[6]),\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.rightIsBetter,\r\n                distanceFunction.nearTargetTopIsBetter\r\n              ]\r\n            }\r\n          ];\r\n          break;\r\n        case 'right':\r\n          priorities = [\r\n            {\r\n              group: internalGroups[2].concat(internalGroups[5])\r\n                                       .concat(internalGroups[8]),\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.topIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[5],\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.topIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[2].concat(groups[8]),\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.leftIsBetter,\r\n                distanceFunction.nearTargetTopIsBetter\r\n              ]\r\n            }\r\n          ];\r\n          break;\r\n        case 'up':\r\n          priorities = [\r\n            {\r\n              group: internalGroups[0].concat(internalGroups[1])\r\n                                       .concat(internalGroups[2]),\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.leftIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[1],\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.leftIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[0].concat(groups[2]),\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.bottomIsBetter,\r\n                distanceFunction.nearTargetLeftIsBetter\r\n              ]\r\n            }\r\n          ];\r\n          break;\r\n        case 'down':\r\n          priorities = [\r\n            {\r\n              group: internalGroups[6].concat(internalGroups[7])\r\n                                       .concat(internalGroups[8]),\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.leftIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[7],\r\n              distance: [\r\n                distanceFunction.nearHorizonIsBetter,\r\n                distanceFunction.leftIsBetter\r\n              ]\r\n            },\r\n            {\r\n              group: groups[6].concat(groups[8]),\r\n              distance: [\r\n                distanceFunction.nearPlumbLineIsBetter,\r\n                distanceFunction.topIsBetter,\r\n                distanceFunction.nearTargetLeftIsBetter\r\n              ]\r\n            }\r\n          ];\r\n          break;\r\n        default:\r\n          return null;\r\n      }\r\n  \r\n      if (config.straightOnly) {\r\n        priorities.pop();\r\n      }\r\n  \r\n      var destGroup = prioritize(priorities);\r\n      if (!destGroup) {\r\n        return null;\r\n      }\r\n  \r\n      var dest = null;\r\n      if (config.rememberSource &&\r\n          config.previous &&\r\n          config.previous.destination === target &&\r\n          config.previous.reverse === direction) {\r\n        for (var j = 0; j < destGroup.length; j++) {\r\n          if (destGroup[j].element === config.previous.target) {\r\n            dest = destGroup[j].element;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n  \r\n      if (!dest) {\r\n        dest = destGroup[0].element;\r\n      }\r\n  \r\n      return dest;\r\n    }\r\n  \r\n    /********************/\r\n    /* Private Function */\r\n    /********************/\r\n    function generateId() {\r\n      var id;\r\n      while(true) {\r\n        id = ID_POOL_PREFIX + String(++_idPool);\r\n        if (!_sections[id]) {\r\n          break;\r\n        }\r\n      }\r\n      return id;\r\n    }\r\n  \r\n    function parseSelector(selector) {\r\n      var result;\r\n      if ($) {\r\n        result = $(selector).get();\r\n      } else if (typeof selector === 'string') {\r\n        result = [].slice.call(document.querySelectorAll(selector));\r\n      } else if (typeof selector === 'object' && selector.length) {\r\n        result = [].slice.call(selector);\r\n      } else if (typeof selector === 'object' && selector.nodeType === 1) {\r\n        result = [selector];\r\n      } else {\r\n        result = [];\r\n      }\r\n      return result;\r\n    }\r\n  \r\n    function matchSelector(elem, selector) {\r\n      if ($) {\r\n        return $(elem).is(selector);\r\n      } else if (typeof selector === 'string') {\r\n        return elementMatchesSelector.call(elem, selector);\r\n      } else if (typeof selector === 'object' && selector.length) {\r\n        return selector.indexOf(elem) >= 0;\r\n      } else if (typeof selector === 'object' && selector.nodeType === 1) {\r\n        return elem === selector;\r\n      }\r\n      return false;\r\n    }\r\n  \r\n    function getCurrentFocusedElement() {\r\n      var activeElement = document.activeElement;\r\n      if (activeElement && activeElement !== document.body) {\r\n        return activeElement;\r\n      }\r\n    }\r\n  \r\n    function extend(out) {\r\n      out = out || {};\r\n      for (var i = 1; i < arguments.length; i++) {\r\n        if (!arguments[i]) {\r\n          continue;\r\n        }\r\n        for (var key in arguments[i]) {\r\n          if (arguments[i].hasOwnProperty(key) &&\r\n              arguments[i][key] !== undefined) {\r\n            out[key] = arguments[i][key];\r\n          }\r\n        }\r\n      }\r\n      return out;\r\n    }\r\n  \r\n    function exclude(elemList, excludedElem) {\r\n      if (!Array.isArray(excludedElem)) {\r\n        excludedElem = [excludedElem];\r\n      }\r\n      for (var i = 0, index; i < excludedElem.length; i++) {\r\n        index = elemList.indexOf(excludedElem[i]);\r\n        if (index >= 0) {\r\n          elemList.splice(index, 1);\r\n        }\r\n      }\r\n      return elemList;\r\n    }\r\n  \r\n    function isNavigable(elem, sectionId, verifySectionSelector) {\r\n      if (! elem || !sectionId ||\r\n          !_sections[sectionId] || _sections[sectionId].disabled) {\r\n        return false;\r\n      }\r\n      if ((elem.offsetWidth <= 0 && elem.offsetHeight <= 0) ||\r\n          elem.hasAttribute('disabled')) {\r\n        return false;\r\n      }\r\n      if (verifySectionSelector &&\r\n          !matchSelector(elem, _sections[sectionId].selector)) {\r\n        return false;\r\n      }\r\n      if (typeof _sections[sectionId].navigableFilter === 'function') {\r\n        if (_sections[sectionId].navigableFilter(elem, sectionId) === false) {\r\n          return false;\r\n        }\r\n      } else if (typeof GlobalConfig.navigableFilter === 'function') {\r\n        if (GlobalConfig.navigableFilter(elem, sectionId) === false) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n  \r\n    function getSectionId(elem) {\r\n      for (var id in _sections) {\r\n        if (!_sections[id].disabled &&\r\n            matchSelector(elem, _sections[id].selector)) {\r\n          return id;\r\n        }\r\n      }\r\n    }\r\n  \r\n    function getSectionNavigableElements(sectionId) {\r\n      return parseSelector(_sections[sectionId].selector).filter(function(elem) {\r\n        return isNavigable(elem, sectionId);\r\n      });\r\n    }\r\n  \r\n    function getSectionDefaultElement(sectionId) {\r\n      var defaultElement = _sections[sectionId].defaultElement;\r\n      if (!defaultElement) {\r\n        return null;\r\n      }\r\n      if (typeof defaultElement === 'string') {\r\n        defaultElement = parseSelector(defaultElement)[0];\r\n      } else if ($ && defaultElement instanceof $) {\r\n        defaultElement = defaultElement.get(0);\r\n      }\r\n      if (isNavigable(defaultElement, sectionId, true)) {\r\n        return defaultElement;\r\n      }\r\n      return null;\r\n    }\r\n  \r\n    function getSectionLastFocusedElement(sectionId) {\r\n      var lastFocusedElement = _sections[sectionId].lastFocusedElement;\r\n      if (!isNavigable(lastFocusedElement, sectionId, true)) {\r\n        return null;\r\n      }\r\n      return lastFocusedElement;\r\n    }\r\n  \r\n    function fireEvent(elem, type, details, cancelable) {\r\n      if (arguments.length < 4) {\r\n        cancelable = true;\r\n      }\r\n      var evt = document.createEvent('CustomEvent');\r\n      evt.initCustomEvent(EVENT_PREFIX + type, true, cancelable, details);\r\n      return elem.dispatchEvent(evt);\r\n    }\r\n  \r\n    function focusElement(elem, sectionId, direction) {\r\n      if (!elem) {\r\n        return false;\r\n      }\r\n  \r\n      var currentFocusedElement = getCurrentFocusedElement();\r\n  \r\n      var silentFocus = function() {\r\n        if (currentFocusedElement) {\r\n          currentFocusedElement.blur();\r\n        }\r\n        elem.focus();\r\n        focusChanged(elem, sectionId);\r\n      };\r\n  \r\n      if (_duringFocusChange) {\r\n        silentFocus();\r\n        return true;\r\n      }\r\n  \r\n      _duringFocusChange = true;\r\n  \r\n      if (_pause) {\r\n        silentFocus();\r\n        _duringFocusChange = false;\r\n        return true;\r\n      }\r\n  \r\n      if (currentFocusedElement) {\r\n        var unfocusProperties = {\r\n          nextElement: elem,\r\n          nextSectionId: sectionId,\r\n          direction: direction,\r\n          native: false\r\n        };\r\n        if (!fireEvent(currentFocusedElement, 'willunfocus', unfocusProperties)) {\r\n          _duringFocusChange = false;\r\n          return false;\r\n        }\r\n        currentFocusedElement.blur();\r\n        fireEvent(currentFocusedElement, 'unfocused', unfocusProperties, false);\r\n      }\r\n  \r\n      var focusProperties = {\r\n        previousElement: currentFocusedElement,\r\n        sectionId: sectionId,\r\n        direction: direction,\r\n        native: false\r\n      };\r\n      if (!fireEvent(elem, 'willfocus', focusProperties)) {\r\n        _duringFocusChange = false;\r\n        return false;\r\n      }\r\n      elem.focus();\r\n      fireEvent(elem, 'focused', focusProperties, false);\r\n  \r\n      _duringFocusChange = false;\r\n  \r\n      focusChanged(elem, sectionId);\r\n      return true;\r\n    }\r\n  \r\n    function focusChanged(elem, sectionId) {\r\n      if (!sectionId) {\r\n        sectionId = getSectionId(elem);\r\n      }\r\n      if (sectionId) {\r\n        _sections[sectionId].lastFocusedElement = elem;\r\n        _lastSectionId = sectionId;\r\n      }\r\n    }\r\n  \r\n    function focusExtendedSelector(selector, direction) {\r\n      if (selector.charAt(0) == '@') {\r\n        if (selector.length == 1) {\r\n          return focusSection();\r\n        } else {\r\n          var sectionId = selector.substr(1);\r\n          return focusSection(sectionId);\r\n        }\r\n      } else {\r\n        var next = parseSelector(selector)[0];\r\n        if (next) {\r\n          var nextSectionId = getSectionId(next);\r\n          if (isNavigable(next, nextSectionId)) {\r\n            return focusElement(next, nextSectionId, direction);\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  \r\n    function focusSection(sectionId) {\r\n      var range = [];\r\n      var addRange = function(id) {\r\n        if (id && range.indexOf(id) < 0 &&\r\n            _sections[id] && !_sections[id].disabled) {\r\n          range.push(id);\r\n        }\r\n      };\r\n  \r\n      if (sectionId) {\r\n        addRange(sectionId);\r\n      } else {\r\n        addRange(_defaultSectionId);\r\n        addRange(_lastSectionId);\r\n        Object.keys(_sections).map(addRange);\r\n      }\r\n  \r\n      for (var i = 0; i < range.length; i++) {\r\n        var id = range[i];\r\n        var next;\r\n  \r\n        if (_sections[id].enterTo == 'last-focused') {\r\n          next = getSectionLastFocusedElement(id) ||\r\n                 getSectionDefaultElement(id) ||\r\n                 getSectionNavigableElements(id)[0];\r\n        } else {\r\n          next = getSectionDefaultElement(id) ||\r\n                 getSectionLastFocusedElement(id) ||\r\n                 getSectionNavigableElements(id)[0];\r\n        }\r\n  \r\n        if (next) {\r\n          return focusElement(next, id);\r\n        }\r\n      }\r\n  \r\n      return false;\r\n    }\r\n  \r\n    function fireNavigatefailed(elem, direction) {\r\n      fireEvent(elem, 'navigatefailed', {\r\n        direction: direction\r\n      }, false);\r\n    }\r\n  \r\n    function gotoLeaveFor(sectionId, direction) {\r\n      if (_sections[sectionId].leaveFor &&\r\n          _sections[sectionId].leaveFor[direction] !== undefined) {\r\n        var next = _sections[sectionId].leaveFor[direction];\r\n  \r\n        if (typeof next === 'string') {\r\n          if (next === '') {\r\n            return null;\r\n          }\r\n          return focusExtendedSelector(next, direction);\r\n        }\r\n  \r\n        if ($ && next instanceof $) {\r\n          next = next.get(0);\r\n        }\r\n  \r\n        var nextSectionId = getSectionId(next);\r\n        if (isNavigable(next, nextSectionId)) {\r\n          return focusElement(next, nextSectionId, direction);\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n  \r\n    function focusNext(direction, currentFocusedElement, currentSectionId) {\r\n      var extSelector =\r\n        currentFocusedElement.getAttribute('data-sn-' + direction);\r\n      if (typeof extSelector === 'string') {\r\n        if (extSelector === '' ||\r\n            !focusExtendedSelector(extSelector, direction)) {\r\n          fireNavigatefailed(currentFocusedElement, direction);\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n  \r\n      var sectionNavigableElements = {};\r\n      var allNavigableElements = [];\r\n      for (var id in _sections) {\r\n        sectionNavigableElements[id] = getSectionNavigableElements(id);\r\n        allNavigableElements =\r\n          allNavigableElements.concat(sectionNavigableElements[id]);\r\n      }\r\n  \r\n      var config = extend({}, GlobalConfig, _sections[currentSectionId]);\r\n      var next;\r\n  \r\n      if (config.restrict == 'self-only' || config.restrict == 'self-first') {\r\n        var currentSectionNavigableElements =\r\n          sectionNavigableElements[currentSectionId];\r\n  \r\n        next = navigate(\r\n          currentFocusedElement,\r\n          direction,\r\n          exclude(currentSectionNavigableElements, currentFocusedElement),\r\n          config\r\n        );\r\n  \r\n        if (!next && config.restrict == 'self-first') {\r\n          next = navigate(\r\n            currentFocusedElement,\r\n            direction,\r\n            exclude(allNavigableElements, currentSectionNavigableElements),\r\n            config\r\n          );\r\n        }\r\n      } else {\r\n        next = navigate(\r\n          currentFocusedElement,\r\n          direction,\r\n          exclude(allNavigableElements, currentFocusedElement),\r\n          config\r\n        );\r\n      }\r\n  \r\n      if (next) {\r\n        _sections[currentSectionId].previous = {\r\n          target: currentFocusedElement,\r\n          destination: next,\r\n          reverse: REVERSE[direction]\r\n        };\r\n  \r\n        var nextSectionId = getSectionId(next);\r\n  \r\n        if (currentSectionId != nextSectionId) {\r\n          var result = gotoLeaveFor(currentSectionId, direction);\r\n          if (result) {\r\n            return true;\r\n          } else if (result === null) {\r\n            fireNavigatefailed(currentFocusedElement, direction);\r\n            return false;\r\n          }\r\n  \r\n          var enterToElement;\r\n          switch (_sections[nextSectionId].enterTo) {\r\n            case 'last-focused':\r\n              enterToElement = getSectionLastFocusedElement(nextSectionId) ||\r\n                               getSectionDefaultElement(nextSectionId);\r\n              break;\r\n            case 'default-element':\r\n              enterToElement = getSectionDefaultElement(nextSectionId);\r\n              break;\r\n          }\r\n          if (enterToElement) {\r\n            next = enterToElement;\r\n          }\r\n        }\r\n  \r\n        return focusElement(next, nextSectionId, direction);\r\n      } else if (gotoLeaveFor(currentSectionId, direction)) {\r\n        return true;\r\n      }\r\n  \r\n      fireNavigatefailed(currentFocusedElement, direction);\r\n      return false;\r\n    }\r\n  \r\n    function onKeyDown(evt) {\r\n      if (!_sectionCount || _pause ||\r\n          evt.altKey || evt.ctrlKey || evt.metaKey || evt.shiftKey) {\r\n        return;\r\n      }\r\n  \r\n      var currentFocusedElement;\r\n      var preventDefault = function() {\r\n        evt.preventDefault();\r\n        evt.stopPropagation();\r\n        return false;\r\n      };\r\n  \r\n      var direction = KEYMAPPING[evt.keyCode];\r\n      if (!direction) {\r\n        if (evt.keyCode == 13) {\r\n          currentFocusedElement = getCurrentFocusedElement();\r\n          if (currentFocusedElement && getSectionId(currentFocusedElement)) {\r\n            if (!fireEvent(currentFocusedElement, 'enter-down')) {\r\n              return preventDefault();\r\n            }\r\n          }\r\n        }\r\n        return;\r\n      }\r\n  \r\n      currentFocusedElement = getCurrentFocusedElement();\r\n  \r\n      if (!currentFocusedElement) {\r\n        if (_lastSectionId) {\r\n          currentFocusedElement = getSectionLastFocusedElement(_lastSectionId);\r\n        }\r\n        if (!currentFocusedElement) {\r\n          focusSection();\r\n          return preventDefault();\r\n        }\r\n      }\r\n  \r\n      var currentSectionId = getSectionId(currentFocusedElement);\r\n      if (!currentSectionId) {\r\n        return;\r\n      }\r\n  \r\n      var willmoveProperties = {\r\n        direction: direction,\r\n        sectionId: currentSectionId,\r\n        cause: 'keydown'\r\n      };\r\n  \r\n      if (fireEvent(currentFocusedElement, 'willmove', willmoveProperties)) {\r\n        focusNext(direction, currentFocusedElement, currentSectionId);\r\n      }\r\n  \r\n      return preventDefault();\r\n    }\r\n  \r\n    function onKeyUp(evt) {\r\n      if (evt.altKey || evt.ctrlKey || evt.metaKey || evt.shiftKey) {\r\n        return\r\n      }\r\n      if (!_pause && _sectionCount && evt.keyCode == 13) {\r\n        var currentFocusedElement = getCurrentFocusedElement();\r\n        if (currentFocusedElement && getSectionId(currentFocusedElement)) {\r\n          if (!fireEvent(currentFocusedElement, 'enter-up')) {\r\n            evt.preventDefault();\r\n            evt.stopPropagation();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  \r\n    function onFocus(evt) {\r\n      var target = evt.target;\r\n      if (target !== window && target !== document &&\r\n          _sectionCount && !_duringFocusChange) {\r\n        var sectionId = getSectionId(target);\r\n        if (sectionId) {\r\n          if (_pause) {\r\n            focusChanged(target, sectionId);\r\n            return;\r\n          }\r\n  \r\n          var focusProperties = {\r\n            sectionId: sectionId,\r\n            native: true\r\n          };\r\n  \r\n          if (!fireEvent(target, 'willfocus', focusProperties)) {\r\n            _duringFocusChange = true;\r\n            target.blur();\r\n            _duringFocusChange = false;\r\n          } else {\r\n            fireEvent(target, 'focused', focusProperties, false);\r\n            focusChanged(target, sectionId);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  \r\n    function onBlur(evt) {\r\n      var target = evt.target;\r\n      if (target !== window && target !== document && !_pause &&\r\n          _sectionCount && !_duringFocusChange && getSectionId(target)) {\r\n        var unfocusProperties = {\r\n          native: true\r\n        };\r\n        if (!fireEvent(target, 'willunfocus', unfocusProperties)) {\r\n          _duringFocusChange = true;\r\n          setTimeout(function() {\r\n            target.focus();\r\n            _duringFocusChange = false;\r\n          });\r\n        } else {\r\n          fireEvent(target, 'unfocused', unfocusProperties, false);\r\n        }\r\n      }\r\n    }\r\n  \r\n    /*******************/\r\n    /* Public Function */\r\n    /*******************/\r\n    var SpatialNavigation = {\r\n      init: function() {\r\n        if (!_ready) {\r\n          window.addEventListener('keydown', onKeyDown);\r\n          window.addEventListener('keyup', onKeyUp);\r\n          window.addEventListener('focus', onFocus, true);\r\n          window.addEventListener('blur', onBlur, true);\r\n          _ready = true;\r\n        }\r\n      },\r\n  \r\n      uninit: function() {\r\n        window.removeEventListener('blur', onBlur, true);\r\n        window.removeEventListener('focus', onFocus, true);\r\n        window.removeEventListener('keyup', onKeyUp);\r\n        window.removeEventListener('keydown', onKeyDown);\r\n        SpatialNavigation.clear();\r\n        _idPool = 0;\r\n        _ready = false;\r\n      },\r\n  \r\n      clear: function() {\r\n        _sections = {};\r\n        _sectionCount = 0;\r\n        _defaultSectionId = '';\r\n        _lastSectionId = '';\r\n        _duringFocusChange = false;\r\n      },\r\n  \r\n      // set(<config>);\r\n      // set(<sectionId>, <config>);\r\n      set: function() {\r\n        var sectionId, config;\r\n  \r\n        if (typeof arguments[0] === 'object') {\r\n          config = arguments[0];\r\n        } else if (typeof arguments[0] === 'string' &&\r\n                   typeof arguments[1] === 'object') {\r\n          sectionId = arguments[0];\r\n          config = arguments[1];\r\n          if (!_sections[sectionId]) {\r\n            throw new Error('Section \"' + sectionId + '\" doesn\\'t exist!');\r\n          }\r\n        } else {\r\n          return;\r\n        }\r\n  \r\n        for (var key in config) {\r\n          if (GlobalConfig[key] !== undefined) {\r\n            if (sectionId) {\r\n              _sections[sectionId][key] = config[key];\r\n            } else if (config[key] !== undefined) {\r\n              GlobalConfig[key] = config[key];\r\n            }\r\n          }\r\n        }\r\n  \r\n        if (sectionId) {\r\n          // remove \"undefined\" items\r\n          _sections[sectionId] = extend({}, _sections[sectionId]);\r\n        }\r\n      },\r\n  \r\n      // add(<config>);\r\n      // add(<sectionId>, <config>);\r\n      add: function() {\r\n        var sectionId;\r\n        var config = {};\r\n  \r\n        if (typeof arguments[0] === 'object') {\r\n          config = arguments[0];\r\n        } else if (typeof arguments[0] === 'string' &&\r\n                   typeof arguments[1] === 'object') {\r\n          sectionId = arguments[0];\r\n          config = arguments[1];\r\n        }\r\n  \r\n        if (!sectionId) {\r\n          sectionId = (typeof config.id === 'string') ? config.id : generateId();\r\n        }\r\n  \r\n        if (_sections[sectionId]) {\r\n          throw new Error('Section \"' + sectionId + '\" has already existed!');\r\n        }\r\n  \r\n        _sections[sectionId] = {};\r\n        _sectionCount++;\r\n  \r\n        SpatialNavigation.set(sectionId, config);\r\n  \r\n        return sectionId;\r\n      },\r\n  \r\n      remove: function(sectionId) {\r\n        if (!sectionId || typeof sectionId !== 'string') {\r\n          throw new Error('Please assign the \"sectionId\"!');\r\n        }\r\n        if (_sections[sectionId]) {\r\n          _sections[sectionId] = undefined;\r\n          _sections = extend({}, _sections);\r\n          _sectionCount--;\r\n          if (_lastSectionId === sectionId) {\r\n            _lastSectionId = '';\r\n          }\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n  \r\n      disable: function(sectionId) {\r\n        if (_sections[sectionId]) {\r\n          _sections[sectionId].disabled = true;\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n  \r\n      enable: function(sectionId) {\r\n        if (_sections[sectionId]) {\r\n          _sections[sectionId].disabled = false;\r\n          return true;\r\n        }\r\n        return false;\r\n      },\r\n  \r\n      pause: function() {\r\n        _pause = true;\r\n      },\r\n  \r\n      resume: function() {\r\n        _pause = false;\r\n      },\r\n  \r\n      // focus([silent])\r\n      // focus(<sectionId>, [silent])\r\n      // focus(<extSelector>, [silent])\r\n      // Note: \"silent\" is optional and default to false\r\n      focus: function(elem, silent) {\r\n        var result = false;\r\n  \r\n        if (silent === undefined && typeof elem === 'boolean') {\r\n          silent = elem;\r\n          elem = undefined;\r\n        }\r\n  \r\n        var autoPause = !_pause && silent;\r\n  \r\n        if (autoPause) {\r\n          SpatialNavigation.pause();\r\n        }\r\n  \r\n        if (!elem) {\r\n          result  = focusSection();\r\n        } else {\r\n          if (typeof elem === 'string') {\r\n            if (_sections[elem]) {\r\n              result = focusSection(elem);\r\n            } else {\r\n              result = focusExtendedSelector(elem);\r\n            }\r\n          } else {\r\n            if ($ && elem instanceof $) {\r\n              elem = elem.get(0);\r\n            }\r\n  \r\n            var nextSectionId = getSectionId(elem);\r\n            if (isNavigable(elem, nextSectionId)) {\r\n              result = focusElement(elem, nextSectionId);\r\n            }\r\n          }\r\n        }\r\n  \r\n        if (autoPause) {\r\n          SpatialNavigation.resume();\r\n        }\r\n  \r\n        return result;\r\n      },\r\n  \r\n      // move(<direction>)\r\n      // move(<direction>, <selector>)\r\n      move: function(direction, selector) {\r\n        direction = direction.toLowerCase();\r\n        if (!REVERSE[direction]) {\r\n          return false;\r\n        }\r\n  \r\n        var elem = selector ?\r\n          parseSelector(selector)[0] : getCurrentFocusedElement();\r\n        if (!elem) {\r\n          return false;\r\n        }\r\n  \r\n        var sectionId = getSectionId(elem);\r\n        if (!sectionId) {\r\n          return false;\r\n        }\r\n  \r\n        var willmoveProperties = {\r\n          direction: direction,\r\n          sectionId: sectionId,\r\n          cause: 'api'\r\n        };\r\n  \r\n        if (!fireEvent(elem, 'willmove', willmoveProperties)) {\r\n          return false;\r\n        }\r\n  \r\n        return focusNext(direction, elem, sectionId);\r\n      },\r\n  \r\n      // makeFocusable()\r\n      // makeFocusable(<sectionId>)\r\n      makeFocusable: function(sectionId) {\r\n        var doMakeFocusable = function(section) {\r\n          var tabIndexIgnoreList = section.tabIndexIgnoreList !== undefined ?\r\n            section.tabIndexIgnoreList : GlobalConfig.tabIndexIgnoreList;\r\n          parseSelector(section.selector).forEach(function(elem) {\r\n            if (!matchSelector(elem, tabIndexIgnoreList)) {\r\n              if (!elem.getAttribute('tabindex')) {\r\n                elem.setAttribute('tabindex', '-1');\r\n              }\r\n            }\r\n          });\r\n        };\r\n  \r\n        if (sectionId) {\r\n          if (_sections[sectionId]) {\r\n            doMakeFocusable(_sections[sectionId]);\r\n          } else {\r\n            throw new Error('Section \"' + sectionId + '\" doesn\\'t exist!');\r\n          }\r\n        } else {\r\n          for (var id in _sections) {\r\n            doMakeFocusable(_sections[id]);\r\n          }\r\n        }\r\n      },\r\n  \r\n      setDefaultSection: function(sectionId) {\r\n        if (!sectionId) {\r\n          _defaultSectionId = '';\r\n        } else if (!_sections[sectionId]) {\r\n          throw new Error('Section \"' + sectionId + '\" doesn\\'t exist!');\r\n        } else {\r\n          _defaultSectionId = sectionId;\r\n        }\r\n      }\r\n    };\r\n  \r\n    window.SpatialNavigation = SpatialNavigation;\r\n    \r\n    /**********************/\r\n    /* CommonJS Interface */\r\n    /**********************/\r\n    if (typeof module === 'object') {\r\n        module.exports = SpatialNavigation;\r\n    }\r\n  \r\n    /********************/\r\n    /* jQuery Interface */\r\n    /********************/\r\n    if ($) {\r\n      $.SpatialNavigation = function() {\r\n        SpatialNavigation.init();\r\n  \r\n        if (arguments.length > 0) {\r\n          if ($.isPlainObject(arguments[0])) {\r\n            return SpatialNavigation.add(arguments[0]);\r\n          } else if ($.type(arguments[0]) === 'string' &&\r\n                     $.isFunction(SpatialNavigation[arguments[0]])) {\r\n            return SpatialNavigation[arguments[0]]\r\n              .apply(SpatialNavigation, [].slice.call(arguments, 1));\r\n          }\r\n        }\r\n  \r\n        return $.extend({}, SpatialNavigation);\r\n      };\r\n  \r\n      $.fn.SpatialNavigation = function() {\r\n        var config;\r\n  \r\n        if ($.isPlainObject(arguments[0])) {\r\n          config = arguments[0];\r\n        } else {\r\n          config = {\r\n            id: arguments[0]\r\n          };\r\n        }\r\n  \r\n        config.selector = this;\r\n  \r\n        SpatialNavigation.init();\r\n        if (config.id) {\r\n          SpatialNavigation.remove(config.id);\r\n        }\r\n        SpatialNavigation.add(config);\r\n        SpatialNavigation.makeFocusable(config.id);\r\n  \r\n        return this;\r\n      };\r\n    }\r\n  })(window.jQuery);\r\n  ","import React, { Component } from 'react';\r\nimport SpatialNavigation from '../spatial_navigation';\r\n\r\nrequire('./Css/Dashboard.css');\r\n\r\nconst dashboardNav = [{\r\n    buttonText: 'Link1',\r\n    id: 'link1'\r\n},\r\n{\r\n    buttonText: 'Link2',\r\n    id: 'link2'\r\n},\r\n{\r\n    buttonText: 'Link3',\r\n    id: 'link3'\r\n}];\r\nconst link1 = [{\r\n    buttonText: 'Sub Link1',\r\n    id: 'sublink1'\r\n},\r\n{\r\n    buttonText: 'Sub Link2',\r\n    id: 'sublink2'\r\n},\r\n{\r\n    buttonText: 'Sub Link3',\r\n    id: 'sublink3'\r\n},\r\n{\r\n    buttonText: 'Sub Link4',\r\n    id: 'sublink4'\r\n}]\r\nclass Dashboard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            link1: false,\r\n            keycode: 0\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.keyPressEvent);\r\n        SpatialNavigation.init();\r\n        SpatialNavigation.add({\r\n            selector: '.focusable'\r\n        });\r\n        SpatialNavigation.makeFocusable();\r\n        SpatialNavigation.focus();\r\n    }\r\n\r\n    keyPressEvent = (event) => {\r\n        var keyCode = event.keyCode;\r\n        this.setState({\r\n            keycode: keyCode\r\n        });\r\n        switch(keyCode){\r\n            case 8:\r\n                this.backToDashboard();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    backToDashboard =()=>{\r\n        this.setState({\r\n            link1: false\r\n        },()=>{\r\n            SpatialNavigation.focus('#navwrapper .focusable', true);\r\n        })\r\n    }\r\n\r\n    clickDashboard = (e) => {\r\n        const pageName = e.target.id;\r\n        this.setState({\r\n            [pageName]: true\r\n        },()=>{\r\n            SpatialNavigation.focus('#navwrapper .focusable', true);\r\n        })\r\n    }\r\n\r\n    clickSublink = (e) =>{\r\n        const pageName = e.target.id;\r\n        console.log(pageName)\r\n    }\r\n    render() {\r\n        // console.log(this.state.link1)\r\n        return (\r\n            <div className=\"mainContainer\">\r\n                <div id=\"keyOutput\">{this.state.keycode}</div>\r\n                <div className=\"block-wrapper\" id=\"navwrapper\">\r\n                    {\r\n                        !this.state.link1 && dashboardNav && dashboardNav.map(item => {\r\n                            return <button key={item.id} className=\"focusable\" id={item.id} onClick={(e) => this.clickDashboard(e)}>{item.buttonText}</button>\r\n                        })\r\n                    }\r\n                \r\n                {\r\n                    this.state.link1 && link1.map(item => {\r\n                        return <button key={item.id} className=\"focusable\" id={item.id} onClick={(e) => this.clickSublink(e)}>{item.buttonText}</button>\r\n                    })\r\n                }\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport Dashboard from './Dashboard/Dashboard';\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <Dashboard />\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}