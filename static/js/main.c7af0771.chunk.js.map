{"version":3,"sources":["spatial_navigation.js","Dashboard/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["SpatialNavigation","window","getRect","elem","cr","getBoundingClientRect","rect","left","top","right","bottom","width","height","element","center","x","Math","floor","y","partition","rects","targetRect","straightOverlapThreshold","groups","i","length","groupId","push","indexOf","threshold","navigate","target","direction","candidates","config","priorities","distanceFunction","nearPlumbLineIsBetter","d","nearHorizonIsBetter","nearTargetLeftIsBetter","nearTargetTopIsBetter","topIsBetter","bottomIsBetter","leftIsBetter","rightIsBetter","generateDistanceFunction","internalGroups","group","concat","distance","straightOnly","pop","destGroup","destPriority","destDistance","sort","a","b","delta","prioritize","dest","rememberSource","previous","destination","reverse","j","generateId","id","ID_POOL_PREFIX","String","_idPool","_sections","parseSelector","selector","$","get","slice","call","document","querySelectorAll","nodeType","matchSelector","is","elementMatchesSelector","getCurrentFocusedElement","activeElement","body","extend","out","arguments","key","hasOwnProperty","undefined","exclude","elemList","excludedElem","Array","isArray","index","splice","isNavigable","sectionId","verifySectionSelector","disabled","offsetWidth","offsetHeight","hasAttribute","navigableFilter","GlobalConfig","getSectionId","getSectionNavigableElements","filter","getSectionDefaultElement","defaultElement","getSectionLastFocusedElement","lastFocusedElement","fireEvent","type","details","cancelable","evt","createEvent","initCustomEvent","EVENT_PREFIX","dispatchEvent","focusElement","currentFocusedElement","silentFocus","blur","focus","focusChanged","_duringFocusChange","_pause","unfocusProperties","nextElement","nextSectionId","native","focusProperties","previousElement","_lastSectionId","focusExtendedSelector","charAt","focusSection","substr","next","range","addRange","_defaultSectionId","Object","keys","map","enterTo","fireNavigatefailed","gotoLeaveFor","leaveFor","focusNext","currentSectionId","extSelector","getAttribute","sectionNavigableElements","allNavigableElements","restrict","currentSectionNavigableElements","REVERSE","enterToElement","result","onKeyDown","_sectionCount","altKey","ctrlKey","metaKey","shiftKey","preventDefault","stopPropagation","KEYMAPPING","keyCode","cause","onKeyUp","onFocus","onBlur","setTimeout","tabIndexIgnoreList","37","38","39","40","up","down","_ready","Element","prototype","matches","matchesSelector","mozMatchesSelector","webkitMatchesSelector","msMatchesSelector","oMatchesSelector","matchedNodes","this","parentNode","init","addEventListener","uninit","removeEventListener","clear","set","Error","add","remove","disable","enable","pause","resume","silent","autoPause","move","toLowerCase","makeFocusable","doMakeFocusable","section","forEach","setAttribute","setDefaultSection","require","KeyCode","dashboardNav","buttonText","plumbingNav","Dashboard","props","keyPressEvent","event","which","setState","keycode","plumbingDesc","showComment","isPlumbing","plumbing","backKeyMsg","backToDashboard","clickDashboard","e","pageName","handleChange","name","value","clickSublink","handleSubmit","payload","toiletstoppedup","state","axios","post","JSON","stringify","then","response","status","responseMsg","showresponseMsg","console","log","className","item","onClick","rows","onChange","Component","App","React","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c7af0771.chunk.js","sourcesContent":["\r\nimport $ from 'jquery';\r\n\r\nvar SpatialNavigation = {}\r\n\r\nif (typeof(window) !== 'undefined') {\r\n  /** ********************* */\r\n  /* Global Configuration */\r\n  /** ********************* */\r\n  // Note: an <extSelector> can be one of following types:\r\n  // - a valid selector string for \"querySelectorAll\" or jQuery (if it exists)\r\n  // - a NodeList or an array containing DOM elements\r\n  // - a single DOM element\r\n  // - a jQuery object\r\n  // - a string \"@<sectionId>\" to indicate the specified section\r\n  // - a string \"@\" to indicate the default section\r\n  const GlobalConfig = {\r\n    selector: '', // can be a valid <extSelector> except \"@\" syntax.\r\n    straightOnly: false,\r\n    straightOverlapThreshold: 0.5,\r\n    rememberSource: false,\r\n    disabled: false,\r\n    defaultElement: '', // <extSelector> except \"@\" syntax.\r\n    enterTo: '', // '', 'last-focused', 'default-element'\r\n    leaveFor: null, // {left: <extSelector>, right: <extSelector>,\r\n                            //  up: <extSelector>, down: <extSelector>}\r\n    restrict: 'self-first', // 'self-first', 'self-only', 'none'\r\n    tabIndexIgnoreList:\r\n      'a, input, select, textarea, button, iframe, [contentEditable=true]',\r\n    navigableFilter: null\r\n  };\r\n\r\n  /** ****************** */\r\n  /* Constant Variable */\r\n  /** ****************** */\r\n  const KEYMAPPING = {\r\n    37: 'left',\r\n    38: 'up',\r\n    39: 'right',\r\n    40: 'down'\r\n  };\r\n\r\n  const REVERSE = {\r\n    left: 'right',\r\n    up: 'down',\r\n    right: 'left',\r\n    down: 'up'\r\n  };\r\n\r\n  const EVENT_PREFIX = 'sn:';\r\n  const ID_POOL_PREFIX = 'section-';\r\n\r\n  /** ***************** */\r\n  /* Private Variable */\r\n  /** ***************** */\r\n  let _idPool = 0;\r\n  let _ready = false;\r\n  let _pause = false;\r\n  let _sections = {};\r\n  let _sectionCount = 0;\r\n  let _defaultSectionId = '';\r\n  let _lastSectionId = '';\r\n  let _duringFocusChange = false;\r\n\r\n  /** ********* */\r\n  /* Polyfill */\r\n  /** ********* */\r\n  const elementMatchesSelector =\r\n    Element.prototype.matches ||\r\n    Element.prototype.matchesSelector ||\r\n    Element.prototype.mozMatchesSelector ||\r\n    Element.prototype.webkitMatchesSelector ||\r\n    Element.prototype.msMatchesSelector ||\r\n    Element.prototype.oMatchesSelector ||\r\n    function (selector) {\r\n      const matchedNodes =\r\n        (this.parentNode || this.document).querySelectorAll(selector);\r\n      return [].slice.call(matchedNodes).indexOf(this) >= 0;\r\n    };\r\n\r\n  /** ************** */\r\n  /* Core Function */\r\n  /** ************** */\r\n  function getRect(elem) {\r\n    const cr = elem.getBoundingClientRect();\r\n    const rect = {\r\n        left: cr.left,\r\n        top: cr.top,\r\n        right: cr.right,\r\n        bottom: cr.bottom,\r\n        width: cr.width,\r\n        height: cr.height\r\n    };\r\n    rect.element = elem;\r\n    rect.center = {\r\n      x: rect.left + Math.floor(rect.width / 2),\r\n      y: rect.top + Math.floor(rect.height / 2)\r\n    };\r\n    rect.center.left = rect.center.right = rect.center.x;\r\n    rect.center.top = rect.center.bottom = rect.center.y;\r\n    return rect;\r\n  }\r\n\r\n  function partition(rects, targetRect, straightOverlapThreshold) {\r\n    const groups = [[], [], [], [], [], [], [], [], []];\r\n\r\n    for (let i = 0; i < rects.length; i++) {\r\n      const rect = rects[i];\r\n      const { center } = rect;\r\n      var x; var y; var\r\ngroupId;\r\n\r\n      if (center.x < targetRect.left) {\r\n        x = 0;\r\n      } else if (center.x <= targetRect.right) {\r\n        x = 1;\r\n      } else {\r\n        x = 2;\r\n      }\r\n\r\n      if (center.y < targetRect.top) {\r\n        y = 0;\r\n      } else if (center.y <= targetRect.bottom) {\r\n        y = 1;\r\n      } else {\r\n        y = 2;\r\n      }\r\n\r\n      groupId = y * 3 + x;\r\n      groups[groupId].push(rect);\r\n\r\n      if ([0, 2, 6, 8].indexOf(groupId) !== -1) {\r\n        const threshold = straightOverlapThreshold;\r\n\r\n        if (rect.left <= targetRect.right - targetRect.width * threshold) {\r\n          if (groupId === 2) {\r\n            groups[1].push(rect);\r\n          } else if (groupId === 8) {\r\n            groups[7].push(rect);\r\n          }\r\n        }\r\n\r\n        if (rect.right >= targetRect.left + targetRect.width * threshold) {\r\n          if (groupId === 0) {\r\n            groups[1].push(rect);\r\n          } else if (groupId === 6) {\r\n            groups[7].push(rect);\r\n          }\r\n        }\r\n\r\n        if (rect.top <= targetRect.bottom - targetRect.height * threshold) {\r\n          if (groupId === 6) {\r\n            groups[3].push(rect);\r\n          } else if (groupId === 8) {\r\n            groups[5].push(rect);\r\n          }\r\n        }\r\n\r\n        if (rect.bottom >= targetRect.top + targetRect.height * threshold) {\r\n          if (groupId === 0) {\r\n            groups[3].push(rect);\r\n          } else if (groupId === 2) {\r\n            groups[5].push(rect);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return groups;\r\n  }\r\n\r\n  function generateDistanceFunction(targetRect) {\r\n    return {\r\n      nearPlumbLineIsBetter(rect) {\r\n        let d;\r\n        if (rect.center.x < targetRect.center.x) {\r\n          d = targetRect.center.x - rect.right;\r\n        } else {\r\n          d = rect.left - targetRect.center.x;\r\n        }\r\n        return d < 0 ? 0 : d;\r\n      },\r\n      nearHorizonIsBetter(rect) {\r\n        let d;\r\n        if (rect.center.y < targetRect.center.y) {\r\n          d = targetRect.center.y - rect.bottom;\r\n        } else {\r\n          d = rect.top - targetRect.center.y;\r\n        }\r\n        return d < 0 ? 0 : d;\r\n      },\r\n      nearTargetLeftIsBetter(rect) {\r\n        let d;\r\n        if (rect.center.x < targetRect.center.x) {\r\n          d = targetRect.left - rect.right;\r\n        } else {\r\n          d = rect.left - targetRect.left;\r\n        }\r\n        return d < 0 ? 0 : d;\r\n      },\r\n      nearTargetTopIsBetter(rect) {\r\n        let d;\r\n        if (rect.center.y < targetRect.center.y) {\r\n          d = targetRect.top - rect.bottom;\r\n        } else {\r\n          d = rect.top - targetRect.top;\r\n        }\r\n        return d < 0 ? 0 : d;\r\n      },\r\n      topIsBetter(rect) {\r\n        return rect.top;\r\n      },\r\n      bottomIsBetter(rect) {\r\n        return -1 * rect.bottom;\r\n      },\r\n      leftIsBetter(rect) {\r\n        return rect.left;\r\n      },\r\n      rightIsBetter(rect) {\r\n        return -1 * rect.right;\r\n      }\r\n    };\r\n  }\r\n\r\n  function prioritize(priorities) {\r\n    let destPriority = null;\r\n    for (let i = 0; i < priorities.length; i++) {\r\n      if (priorities[i].group.length) {\r\n        destPriority = priorities[i];\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (!destPriority) {\r\n      return null;\r\n    }\r\n\r\n    const destDistance = destPriority.distance;\r\n\r\n    destPriority.group.sort((a, b) => {\r\n      for (let i = 0; i < destDistance.length; i++) {\r\n        const distance = destDistance[i];\r\n        const delta = distance(a) - distance(b);\r\n        if (delta) {\r\n          return delta;\r\n        }\r\n      }\r\n      return 0;\r\n    });\r\n\r\n    return destPriority.group;\r\n  }\r\n\r\n  function navigate(target, direction, candidates, config) {\r\n    if (!target || !direction || !candidates || !candidates.length) {\r\n      return null;\r\n    }\r\n\r\n    const rects = [];\r\n    for (let i = 0; i < candidates.length; i++) {\r\n      const rect = getRect(candidates[i]);\r\n      if (rect) {\r\n        rects.push(rect);\r\n      }\r\n    }\r\n    if (!rects.length) {\r\n      return null;\r\n    }\r\n\r\n    const targetRect = getRect(target);\r\n    if (!targetRect) {\r\n      return null;\r\n    }\r\n\r\n    const distanceFunction = generateDistanceFunction(targetRect);\r\n\r\n    const groups = partition(\r\n      rects,\r\n      targetRect,\r\n      config.straightOverlapThreshold\r\n    );\r\n\r\n    const internalGroups = partition(\r\n      groups[4],\r\n      targetRect.center,\r\n      config.straightOverlapThreshold\r\n    );\r\n\r\n    let priorities;\r\n\r\n    switch (direction) {\r\n      case 'left':\r\n        priorities = [\r\n          {\r\n            group: internalGroups[0].concat(internalGroups[3])\r\n                                     .concat(internalGroups[6]),\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.topIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[3],\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.topIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[0].concat(groups[6]),\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.rightIsBetter,\r\n              distanceFunction.nearTargetTopIsBetter\r\n            ]\r\n          }\r\n        ];\r\n        break;\r\n      case 'right':\r\n        priorities = [\r\n          {\r\n            group: internalGroups[2].concat(internalGroups[5])\r\n                                     .concat(internalGroups[8]),\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.topIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[5],\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.topIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[2].concat(groups[8]),\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.leftIsBetter,\r\n              distanceFunction.nearTargetTopIsBetter\r\n            ]\r\n          }\r\n        ];\r\n        break;\r\n      case 'up':\r\n        priorities = [\r\n          {\r\n            group: internalGroups[0].concat(internalGroups[1])\r\n                                     .concat(internalGroups[2]),\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.leftIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[1],\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.leftIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[0].concat(groups[2]),\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.bottomIsBetter,\r\n              distanceFunction.nearTargetLeftIsBetter\r\n            ]\r\n          }\r\n        ];\r\n        break;\r\n      case 'down':\r\n        priorities = [\r\n          {\r\n            group: internalGroups[6].concat(internalGroups[7])\r\n                                     .concat(internalGroups[8]),\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.leftIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[7],\r\n            distance: [\r\n              distanceFunction.nearHorizonIsBetter,\r\n              distanceFunction.leftIsBetter\r\n            ]\r\n          },\r\n          {\r\n            group: groups[6].concat(groups[8]),\r\n            distance: [\r\n              distanceFunction.nearPlumbLineIsBetter,\r\n              distanceFunction.topIsBetter,\r\n              distanceFunction.nearTargetLeftIsBetter\r\n            ]\r\n          }\r\n        ];\r\n        break;\r\n      default:\r\n        return null;\r\n    }\r\n\r\n    if (config.straightOnly) {\r\n      priorities.pop();\r\n    }\r\n\r\n    const destGroup = prioritize(priorities);\r\n    if (!destGroup) {\r\n      return null;\r\n    }\r\n\r\n    let dest = null;\r\n    if (config.rememberSource &&\r\n        config.previous &&\r\n        config.previous.destination === target &&\r\n        config.previous.reverse === direction) {\r\n      for (let j = 0; j < destGroup.length; j++) {\r\n        if (destGroup[j].element === config.previous.target) {\r\n          dest = destGroup[j].element;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!dest) {\r\n      dest = destGroup[0].element;\r\n    }\r\n\r\n    return dest;\r\n  }\r\n\r\n  /** ***************** */\r\n  /* Private Function */\r\n  /** ***************** */\r\n  function generateId() {\r\n    let id;\r\n    while (true) {\r\n      id = ID_POOL_PREFIX + String(++_idPool);\r\n      if (!_sections[id]) {\r\n        break;\r\n      }\r\n    }\r\n    return id;\r\n  }\r\n\r\n  function parseSelector(selector) {\r\n    let result;\r\n    if ($) {\r\n      result = $(selector).get();\r\n    } else if (typeof selector === 'string') {\r\n      result = [].slice.call(document.querySelectorAll(selector));\r\n    } else if (typeof selector === 'object' && selector.length) {\r\n      result = [].slice.call(selector);\r\n    } else if (typeof selector === 'object' && selector.nodeType === 1) {\r\n      result = [selector];\r\n    } else {\r\n      result = [];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function matchSelector(elem, selector) {\r\n    if ($) {\r\n      return $(elem).is(selector);\r\n    } if (typeof selector === 'string') {\r\n      return elementMatchesSelector.call(elem, selector);\r\n    } if (typeof selector === 'object' && selector.length) {\r\n      return selector.indexOf(elem) >= 0;\r\n    } if (typeof selector === 'object' && selector.nodeType === 1) {\r\n      return elem === selector;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function getCurrentFocusedElement() {\r\n    const { activeElement } = document;\r\n    if (activeElement && activeElement !== document.body) {\r\n      return activeElement;\r\n    }\r\n  }\r\n\r\n  function extend(out) {\r\n    out = out || {};\r\n    for (let i = 1; i < arguments.length; i++) {\r\n      if (!arguments[i]) {\r\n        continue;\r\n      }\r\n      for (const key in arguments[i]) {\r\n        if (arguments[i].hasOwnProperty(key) &&\r\n            arguments[i][key] !== undefined) {\r\n          out[key] = arguments[i][key];\r\n        }\r\n      }\r\n    }\r\n    return out;\r\n  }\r\n\r\n  function exclude(elemList, excludedElem) {\r\n    if (!Array.isArray(excludedElem)) {\r\n      excludedElem = [excludedElem];\r\n    }\r\n    for (var i = 0, index; i < excludedElem.length; i++) {\r\n      index = elemList.indexOf(excludedElem[i]);\r\n      if (index >= 0) {\r\n        elemList.splice(index, 1);\r\n      }\r\n    }\r\n    return elemList;\r\n  }\r\n\r\n  function isNavigable(elem, sectionId, verifySectionSelector) {\r\n    if (!elem || !sectionId ||\r\n        !_sections[sectionId] || _sections[sectionId].disabled) {\r\n      return false;\r\n    }\r\n    if ((elem.offsetWidth <= 0 && elem.offsetHeight <= 0) ||\r\n        elem.hasAttribute('disabled')) {\r\n      return false;\r\n    }\r\n    if (verifySectionSelector &&\r\n        !matchSelector(elem, _sections[sectionId].selector)) {\r\n      return false;\r\n    }\r\n    if (typeof _sections[sectionId].navigableFilter === 'function') {\r\n      if (_sections[sectionId].navigableFilter(elem, sectionId) === false) {\r\n        return false;\r\n      }\r\n    } else if (typeof GlobalConfig.navigableFilter === 'function') {\r\n      if (GlobalConfig.navigableFilter(elem, sectionId) === false) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function getSectionId(elem) {\r\n    for (const id in _sections) {\r\n      if (!_sections[id].disabled &&\r\n          matchSelector(elem, _sections[id].selector)) {\r\n        return id;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getSectionNavigableElements(sectionId) {\r\n    return parseSelector(_sections[sectionId].selector).filter(elem => isNavigable(elem, sectionId));\r\n  }\r\n\r\n  function getSectionDefaultElement(sectionId) {\r\n    let { defaultElement } = _sections[sectionId];\r\n    if (!defaultElement) {\r\n      return null;\r\n    }\r\n    if (typeof defaultElement === 'string') {\r\n      defaultElement = parseSelector(defaultElement)[0];\r\n    } else if ($ && defaultElement instanceof $) {\r\n      defaultElement = defaultElement.get(0);\r\n    }\r\n    if (isNavigable(defaultElement, sectionId, true)) {\r\n      return defaultElement;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function getSectionLastFocusedElement(sectionId) {\r\n    const { lastFocusedElement } = _sections[sectionId];\r\n    if (!isNavigable(lastFocusedElement, sectionId, true)) {\r\n      return null;\r\n    }\r\n    return lastFocusedElement;\r\n  }\r\n\r\n  function fireEvent(elem, type, details, cancelable) {\r\n    if (arguments.length < 4) {\r\n      cancelable = true;\r\n    }\r\n    const evt = document.createEvent('CustomEvent');\r\n    evt.initCustomEvent(EVENT_PREFIX + type, true, cancelable, details);\r\n    return elem.dispatchEvent(evt);\r\n  }\r\n\r\n  function focusElement(elem, sectionId, direction) {\r\n    if (!elem) {\r\n      return false;\r\n    }\r\n\r\n    const currentFocusedElement = getCurrentFocusedElement();\r\n\r\n    const silentFocus = function () {\r\n      if (currentFocusedElement) {\r\n        currentFocusedElement.blur();\r\n      }\r\n      elem.focus();\r\n      focusChanged(elem, sectionId);\r\n    };\r\n\r\n    if (_duringFocusChange) {\r\n      silentFocus();\r\n      return true;\r\n    }\r\n\r\n    _duringFocusChange = true;\r\n\r\n    if (_pause) {\r\n      silentFocus();\r\n      _duringFocusChange = false;\r\n      return true;\r\n    }\r\n\r\n    if (currentFocusedElement) {\r\n      const unfocusProperties = {\r\n        nextElement: elem,\r\n        nextSectionId: sectionId,\r\n        direction,\r\n        native: false\r\n      };\r\n      if (!fireEvent(currentFocusedElement, 'willunfocus', unfocusProperties)) {\r\n        _duringFocusChange = false;\r\n        return false;\r\n      }\r\n      currentFocusedElement.blur();\r\n      fireEvent(currentFocusedElement, 'unfocused', unfocusProperties, false);\r\n    }\r\n\r\n    const focusProperties = {\r\n      previousElement: currentFocusedElement,\r\n      sectionId,\r\n      direction,\r\n      native: false\r\n    };\r\n    if (!fireEvent(elem, 'willfocus', focusProperties)) {\r\n      _duringFocusChange = false;\r\n      return false;\r\n    }\r\n    elem.focus();\r\n    fireEvent(elem, 'focused', focusProperties, false);\r\n\r\n    _duringFocusChange = false;\r\n\r\n    focusChanged(elem, sectionId);\r\n    return true;\r\n  }\r\n\r\n  function focusChanged(elem, sectionId) {\r\n    if (!sectionId) {\r\n      sectionId = getSectionId(elem);\r\n    }\r\n    if (sectionId) {\r\n      _sections[sectionId].lastFocusedElement = elem;\r\n      _lastSectionId = sectionId;\r\n    }\r\n  }\r\n\r\n  function focusExtendedSelector(selector, direction) {\r\n    if (selector.charAt(0) === '@') {\r\n      if (selector.length === 1) {\r\n        return focusSection();\r\n      }\r\n        const sectionId = selector.substr(1);\r\n        return focusSection(sectionId);\r\n    }\r\n      const next = parseSelector(selector)[0];\r\n      if (next) {\r\n        const nextSectionId = getSectionId(next);\r\n        if (isNavigable(next, nextSectionId)) {\r\n          return focusElement(next, nextSectionId, direction);\r\n        }\r\n      }\r\n\r\n    return false;\r\n  }\r\n\r\n  function focusSection(sectionId) {\r\n    const range = [];\r\n    const addRange = function (id) {\r\n      if (id && range.indexOf(id) < 0 &&\r\n          _sections[id] && !_sections[id].disabled) {\r\n        range.push(id);\r\n      }\r\n    };\r\n\r\n    if (sectionId) {\r\n      addRange(sectionId);\r\n    } else {\r\n      addRange(_defaultSectionId);\r\n      addRange(_lastSectionId);\r\n      Object.keys(_sections).map(addRange);\r\n    }\r\n\r\n    for (let i = 0; i < range.length; i++) {\r\n      const id = range[i];\r\n      var next;\r\n\r\n      if (_sections[id].enterTo === 'last-focused') {\r\n        next = getSectionLastFocusedElement(id) ||\r\n               getSectionDefaultElement(id) ||\r\n               getSectionNavigableElements(id)[0];\r\n      } else {\r\n        next = getSectionDefaultElement(id) ||\r\n               getSectionLastFocusedElement(id) ||\r\n               getSectionNavigableElements(id)[0];\r\n      }\r\n\r\n      if (next) {\r\n        return focusElement(next, id);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function fireNavigatefailed(elem, direction) {\r\n    fireEvent(elem, 'navigatefailed', {\r\n      direction\r\n    }, false);\r\n  }\r\n\r\n  function gotoLeaveFor(sectionId, direction) {\r\n    if (_sections[sectionId].leaveFor &&\r\n        _sections[sectionId].leaveFor[direction] !== undefined) {\r\n      let next = _sections[sectionId].leaveFor[direction];\r\n\r\n      if (typeof next === 'string') {\r\n        if (next === '') {\r\n          return null;\r\n        }\r\n        return focusExtendedSelector(next, direction);\r\n      }\r\n\r\n      if ($ && next instanceof $) {\r\n        next = next.get(0);\r\n      }\r\n\r\n      const nextSectionId = getSectionId(next);\r\n      if (isNavigable(next, nextSectionId)) {\r\n        return focusElement(next, nextSectionId, direction);\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function focusNext(direction, currentFocusedElement, currentSectionId) {\r\n    const extSelector =\r\n      currentFocusedElement.getAttribute(`data-sn-${direction}`);\r\n    if (typeof extSelector === 'string') {\r\n      if (extSelector === '' ||\r\n          !focusExtendedSelector(extSelector, direction)) {\r\n        fireNavigatefailed(currentFocusedElement, direction);\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n\r\n    const sectionNavigableElements = {};\r\n    let allNavigableElements = [];\r\n    for (const id in _sections) {\r\n      sectionNavigableElements[id] = getSectionNavigableElements(id);\r\n      allNavigableElements =\r\n        allNavigableElements.concat(sectionNavigableElements[id]);\r\n    }\r\n\r\n    const config = extend({}, GlobalConfig, _sections[currentSectionId]);\r\n    let next;\r\n\r\n    if (config.restrict === 'self-only' || config.restrict === 'self-first') {\r\n      const currentSectionNavigableElements =\r\n        sectionNavigableElements[currentSectionId];\r\n\r\n      next = navigate(\r\n        currentFocusedElement,\r\n        direction,\r\n        exclude(currentSectionNavigableElements, currentFocusedElement),\r\n        config\r\n      );\r\n\r\n      if (!next && config.restrict === 'self-first') {\r\n        next = navigate(\r\n          currentFocusedElement,\r\n          direction,\r\n          exclude(allNavigableElements, currentSectionNavigableElements),\r\n          config\r\n        );\r\n      }\r\n    } else {\r\n      next = navigate(\r\n        currentFocusedElement,\r\n        direction,\r\n        exclude(allNavigableElements, currentFocusedElement),\r\n        config\r\n      );\r\n    }\r\n\r\n    if (next) {\r\n      _sections[currentSectionId].previous = {\r\n        target: currentFocusedElement,\r\n        destination: next,\r\n        reverse: REVERSE[direction]\r\n      };\r\n\r\n      const nextSectionId = getSectionId(next);\r\n\r\n      if (currentSectionId !== nextSectionId) {\r\n        const result = gotoLeaveFor(currentSectionId, direction);\r\n        if (result) {\r\n          return true;\r\n        } if (result === null) {\r\n          fireNavigatefailed(currentFocusedElement, direction);\r\n          return false;\r\n        }\r\n\r\n        let enterToElement;\r\n        switch (_sections[nextSectionId].enterTo) {\r\n          case 'last-focused':\r\n            enterToElement = getSectionLastFocusedElement(nextSectionId) ||\r\n                             getSectionDefaultElement(nextSectionId);\r\n            break;\r\n          case 'default-element':\r\n            enterToElement = getSectionDefaultElement(nextSectionId);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        if (enterToElement) {\r\n          next = enterToElement;\r\n        }\r\n      }\r\n\r\n      return focusElement(next, nextSectionId, direction);\r\n    } if (gotoLeaveFor(currentSectionId, direction)) {\r\n      return true;\r\n    }\r\n\r\n    fireNavigatefailed(currentFocusedElement, direction);\r\n    return false;\r\n  }\r\n\r\n  function onKeyDown(evt) {\r\n    if (!_sectionCount || _pause ||\r\n        evt.altKey || evt.ctrlKey || evt.metaKey || evt.shiftKey) {\r\n      return;\r\n    }\r\n\r\n    let currentFocusedElement;\r\n    const preventDefault = function () {\r\n      evt.preventDefault();\r\n      evt.stopPropagation();\r\n      return false;\r\n    };\r\n\r\n    const direction = KEYMAPPING[evt.keyCode];\r\n    if (!direction) {\r\n      if (evt.keyCode === 13) {\r\n        currentFocusedElement = getCurrentFocusedElement();\r\n        if (currentFocusedElement && getSectionId(currentFocusedElement)) {\r\n          if (!fireEvent(currentFocusedElement, 'enter-down')) {\r\n            return preventDefault();\r\n          }\r\n        }\r\n      }\r\n      return;\r\n    }\r\n\r\n    currentFocusedElement = getCurrentFocusedElement();\r\n\r\n    if (!currentFocusedElement) {\r\n      if (_lastSectionId) {\r\n        currentFocusedElement = getSectionLastFocusedElement(_lastSectionId);\r\n      }\r\n      if (!currentFocusedElement) {\r\n        focusSection();\r\n        return preventDefault();\r\n      }\r\n    }\r\n\r\n    const currentSectionId = getSectionId(currentFocusedElement);\r\n    if (!currentSectionId) {\r\n      return;\r\n    }\r\n\r\n    const willmoveProperties = {\r\n      direction,\r\n      sectionId: currentSectionId,\r\n      cause: 'keydown'\r\n    };\r\n\r\n    if (fireEvent(currentFocusedElement, 'willmove', willmoveProperties)) {\r\n      focusNext(direction, currentFocusedElement, currentSectionId);\r\n    }\r\n\r\n    return preventDefault();\r\n  }\r\n\r\n  function onKeyUp(evt) {\r\n    if (evt.altKey || evt.ctrlKey || evt.metaKey || evt.shiftKey) {\r\n      return;\r\n    }\r\n    if (!_pause && _sectionCount && evt.keyCode === 13) {\r\n      const currentFocusedElement = getCurrentFocusedElement();\r\n      if (currentFocusedElement && getSectionId(currentFocusedElement)) {\r\n        if (!fireEvent(currentFocusedElement, 'enter-up')) {\r\n          evt.preventDefault();\r\n          evt.stopPropagation();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function onFocus(evt) {\r\n    const { target } = evt;\r\n    if (target !== window && target !== document &&\r\n        _sectionCount && !_duringFocusChange) {\r\n      const sectionId = getSectionId(target);\r\n      if (sectionId) {\r\n        if (_pause) {\r\n          focusChanged(target, sectionId);\r\n          return;\r\n        }\r\n\r\n        const focusProperties = {\r\n          sectionId,\r\n          native: true\r\n        };\r\n\r\n        if (!fireEvent(target, 'willfocus', focusProperties)) {\r\n          _duringFocusChange = true;\r\n          target.blur();\r\n          _duringFocusChange = false;\r\n        } else {\r\n          fireEvent(target, 'focused', focusProperties, false);\r\n          focusChanged(target, sectionId);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function onBlur(evt) {\r\n    const { target } = evt;\r\n    if (target !== window && target !== document && !_pause &&\r\n        _sectionCount && !_duringFocusChange && getSectionId(target)) {\r\n      const unfocusProperties = {\r\n        native: true\r\n      };\r\n      if (!fireEvent(target, 'willunfocus', unfocusProperties)) {\r\n        _duringFocusChange = true;\r\n        setTimeout(() => {\r\n          target.focus();\r\n          _duringFocusChange = false;\r\n        });\r\n      } else {\r\n        fireEvent(target, 'unfocused', unfocusProperties, false);\r\n      }\r\n    }\r\n  }\r\n\r\n  /** **************** */\r\n  /* Public Function */\r\n  /** **************** */\r\n  SpatialNavigation = {\r\n    init() {\r\n      if (!_ready) {\r\n        window.addEventListener('keydown', onKeyDown);\r\n        window.addEventListener('keyup', onKeyUp);\r\n        window.addEventListener('focus', onFocus, true);\r\n        window.addEventListener('blur', onBlur, true);\r\n        _ready = true;\r\n      }\r\n    },\r\n\r\n    uninit() {\r\n      window.removeEventListener('blur', onBlur, true);\r\n      window.removeEventListener('focus', onFocus, true);\r\n      window.removeEventListener('keyup', onKeyUp);\r\n      window.removeEventListener('keydown', onKeyDown);\r\n      SpatialNavigation.clear();\r\n      _idPool = 0;\r\n      _ready = false;\r\n    },\r\n\r\n    clear() {\r\n      _sections = {};\r\n      _sectionCount = 0;\r\n      _defaultSectionId = '';\r\n      _lastSectionId = '';\r\n      _duringFocusChange = false;\r\n    },\r\n\r\n    // set(<config>);\r\n    // set(<sectionId>, <config>);\r\n    set() {\r\n      let sectionId; let\r\nconfig;\r\n\r\n      if (typeof arguments[0] === 'object') {\r\n        config = arguments[0];\r\n      } else if (typeof arguments[0] === 'string' &&\r\n                 typeof arguments[1] === 'object') {\r\n        sectionId = arguments[0];\r\n        config = arguments[1];\r\n        if (!_sections[sectionId]) {\r\n          throw new Error(`Section \"${sectionId}\" doesn't exist!`);\r\n        }\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      for (const key in config) {\r\n        if (GlobalConfig[key] !== undefined) {\r\n          if (sectionId) {\r\n            _sections[sectionId][key] = config[key];\r\n          } else if (config[key] !== undefined) {\r\n            GlobalConfig[key] = config[key];\r\n          }\r\n        }\r\n      }\r\n\r\n      if (sectionId) {\r\n        // remove \"undefined\" items\r\n        _sections[sectionId] = extend({}, _sections[sectionId]);\r\n      }\r\n    },\r\n\r\n    // add(<config>);\r\n    // add(<sectionId>, <config>);\r\n    add() {\r\n      let sectionId;\r\n      let config = {};\r\n\r\n      if (typeof arguments[0] === 'object') {\r\n        config = arguments[0];\r\n      } else if (typeof arguments[0] === 'string' &&\r\n                 typeof arguments[1] === 'object') {\r\n        sectionId = arguments[0];\r\n        config = arguments[1];\r\n      }\r\n\r\n      if (!sectionId) {\r\n        sectionId = (typeof config.id === 'string') ? config.id : generateId();\r\n      }\r\n\r\n      if (_sections[sectionId]) {\r\n        throw new Error(`Section \"${sectionId}\" has already existed!`);\r\n      }\r\n\r\n      _sections[sectionId] = {};\r\n      _sectionCount++;\r\n\r\n      SpatialNavigation.set(sectionId, config);\r\n\r\n      return sectionId;\r\n    },\r\n\r\n    remove(sectionId) {\r\n      if (!sectionId || typeof sectionId !== 'string') {\r\n        throw new Error('Please assign the \"sectionId\"!');\r\n      }\r\n      if (_sections[sectionId]) {\r\n        _sections[sectionId] = undefined;\r\n        _sections = extend({}, _sections);\r\n        _sectionCount--;\r\n        if (_lastSectionId === sectionId) {\r\n          _lastSectionId = '';\r\n        }\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    disable(sectionId) {\r\n      if (_sections[sectionId]) {\r\n        _sections[sectionId].disabled = true;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    enable(sectionId) {\r\n      if (_sections[sectionId]) {\r\n        _sections[sectionId].disabled = false;\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n\r\n    pause() {\r\n      _pause = true;\r\n    },\r\n\r\n    resume() {\r\n      _pause = false;\r\n    },\r\n\r\n    // focus([silent])\r\n    // focus(<sectionId>, [silent])\r\n    // focus(<extSelector>, [silent])\r\n    // Note: \"silent\" is optional and default to false\r\n    focus(elem, silent) {\r\n      let result = false;\r\n\r\n      if (silent === undefined && typeof elem === 'boolean') {\r\n        silent = elem;\r\n        elem = undefined;\r\n      }\r\n\r\n      const autoPause = !_pause && silent;\r\n\r\n      if (autoPause) {\r\n        SpatialNavigation.pause();\r\n      }\r\n\r\n      if (!elem) {\r\n        result = focusSection();\r\n      } else if (typeof elem === 'string') {\r\n          if (_sections[elem]) {\r\n            result = focusSection(elem);\r\n          } else {\r\n            result = focusExtendedSelector(elem);\r\n          }\r\n        } else {\r\n          if ($ && elem instanceof $) {\r\n            elem = elem.get(0);\r\n          }\r\n\r\n          const nextSectionId = getSectionId(elem);\r\n          if (isNavigable(elem, nextSectionId)) {\r\n            result = focusElement(elem, nextSectionId);\r\n          }\r\n        }\r\n\r\n      if (autoPause) {\r\n        SpatialNavigation.resume();\r\n      }\r\n\r\n      return result;\r\n    },\r\n\r\n    // move(<direction>)\r\n    // move(<direction>, <selector>)\r\n    move(direction, selector) {\r\n      direction = direction.toLowerCase();\r\n      if (!REVERSE[direction]) {\r\n        return false;\r\n      }\r\n\r\n      const elem = selector\r\n        ? parseSelector(selector)[0] : getCurrentFocusedElement();\r\n      if (!elem) {\r\n        return false;\r\n      }\r\n\r\n      const sectionId = getSectionId(elem);\r\n      if (!sectionId) {\r\n        return false;\r\n      }\r\n\r\n      const willmoveProperties = {\r\n        direction,\r\n        sectionId,\r\n        cause: 'api'\r\n      };\r\n\r\n      if (!fireEvent(elem, 'willmove', willmoveProperties)) {\r\n        return false;\r\n      }\r\n\r\n      return focusNext(direction, elem, sectionId);\r\n    },\r\n\r\n    // makeFocusable()\r\n    // makeFocusable(<sectionId>)\r\n    makeFocusable(sectionId) {\r\n      const doMakeFocusable = function (section) {\r\n        const tabIndexIgnoreList = section.tabIndexIgnoreList !== undefined\r\n          ? section.tabIndexIgnoreList : GlobalConfig.tabIndexIgnoreList;\r\n        parseSelector(section.selector).forEach(elem => {\r\n          if (!matchSelector(elem, tabIndexIgnoreList)) {\r\n            if (!elem.getAttribute('tabindex')) {\r\n              elem.setAttribute('tabindex', '-1');\r\n            }\r\n          }\r\n        });\r\n      };\r\n\r\n      if (sectionId) {\r\n        if (_sections[sectionId]) {\r\n          doMakeFocusable(_sections[sectionId]);\r\n        } else {\r\n          throw new Error(`Section \"${sectionId}\" doesn't exist!`);\r\n        }\r\n      } else {\r\n        for (const id in _sections) {\r\n          doMakeFocusable(_sections[id]);\r\n        }\r\n      }\r\n    },\r\n\r\n    setDefaultSection(sectionId) {\r\n      if (!sectionId) {\r\n        _defaultSectionId = '';\r\n      } else if (!_sections[sectionId]) {\r\n        throw new Error(`Section \"${sectionId}\" doesn't exist!`);\r\n      } else {\r\n        _defaultSectionId = sectionId;\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nexport default SpatialNavigation;\r\n\r\n","import React, { Component } from 'react';\r\nimport SpatialNavigation from '../spatial_navigation';\r\nimport axios from 'axios';\r\n\r\nrequire('./Css/Dashboard.css');\r\n\r\nconst KeyCode = {\r\n    BACK: 461,\r\n    BACK_LOCAL: 8\r\n}\r\nconst dashboardNav = [{\r\n    buttonText: 'Plumbing',\r\n    id: 'plumbing'\r\n},\r\n{\r\n    buttonText: 'Bedding',\r\n    id: 'bedding'\r\n},\r\n{\r\n    buttonText: 'Bath Amenities',\r\n    id: 'bathamenities'\r\n}];\r\nconst plumbingNav = [{\r\n    buttonText: 'Toilet Stopped Up',\r\n    id: 'toiletstoppedup'\r\n},\r\n{\r\n    buttonText: 'Toilet Not Flushing',\r\n    id: 'toiletnotflushing'\r\n},\r\n{\r\n    buttonText: 'Toilet Running',\r\n    id: 'toiletrunning'\r\n},\r\n{\r\n    buttonText: 'Toilet Overflowing',\r\n    id: 'toiletoverflowing'\r\n}]\r\nclass Dashboard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isPlumbing: false,\r\n            keycode: 0,\r\n            showComment: false,\r\n            plumbingDesc: '',\r\n            responseMsg: '',\r\n            showresponseMsg: false,\r\n            backKeyMsg:\"\"\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        document.addEventListener('keyup', this.keyPressEvent);\r\n        SpatialNavigation.init();\r\n        SpatialNavigation.add({\r\n            selector: '.focusable'\r\n        });\r\n        SpatialNavigation.makeFocusable();\r\n        SpatialNavigation.focus();\r\n    }\r\n\r\n    keyPressEvent = (event) => {\r\n        var keyCode = event.keyCode || event.which;\r\n        \r\n        // switch (keyCode) {\r\n        //     case keyCode.BACK:\r\n        //     case KeyCode.BACK_LOCAL:\r\n               \r\n        //         break;\r\n        //     default:\r\n        //         break;\r\n        // }\r\n        if(keyCode === 461 || keyCode === '461' || keyCode === KeyCode.BACK_LOCAL){\r\n            this.setState({\r\n                keycode: keyCode,\r\n                plumbingDesc: '',\r\n                showComment: false,\r\n                isPlumbing: false,\r\n                plumbing:false,\r\n                backKeyMsg:\"Back Key Pressed\"\r\n            }, () => {\r\n                SpatialNavigation.focus('#navwrapper .focusable', true);\r\n            })\r\n        }\r\n\r\n        this.setState({\r\n            keycode: keyCode\r\n        });\r\n    }\r\n\r\n    backToDashboard = () => {\r\n        this.setState({\r\n            plumbingDesc: '',\r\n            showComment: false,\r\n            isPlumbing: false\r\n        }, () => {\r\n            SpatialNavigation.focus('#navwrapper .focusable', true);\r\n        })\r\n    }\r\n\r\n    clickDashboard = (e) => {\r\n        const pageName = e.target.id;\r\n        this.setState({\r\n            [pageName]: true\r\n        }, () => {\r\n            SpatialNavigation.focus('#navwrapper .focusable', true);\r\n        })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let { name, value } = e.target;\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    clickSublink = (e) => {\r\n        const pageName = e.target.id;\r\n        if (pageName === 'toiletstoppedup') {\r\n            this.setState({\r\n                showComment: true\r\n            })\r\n        }\r\n    }\r\n    handleSubmit = () => {\r\n        const data = this.state;\r\n        const payload = {\r\n            plumbing: {\r\n                toiletstoppedup: data.plumbingDesc\r\n            }\r\n        }\r\n        const url = 'https://feedback-39e94.firebaseio.com/servicerequest.json';\r\n        axios.post(url, JSON.stringify(payload))\r\n            .then((response) => {\r\n                if (response.status === 200) {\r\n                    this.setState({\r\n                        plumbingDesc: '',\r\n                        showComment: false,\r\n                        plumbing: false,\r\n                        responseMsg: 'Your Case has been created',\r\n                        showresponseMsg: true\r\n                    }, () => {\r\n                        SpatialNavigation.focus('#navwrapper .focusable', true);\r\n                        setTimeout(() => {\r\n                            this.setState({\r\n                                responseMsg: '',\r\n                                showresponseMsg: false\r\n                            })\r\n                        }, 2000)\r\n                    });\r\n                }\r\n            })\r\n    }\r\n    render() {\r\n        const { responseMsg, showresponseMsg } = this.state;\r\n        console.log(this.state.plumbing)\r\n        return (\r\n            <div className=\"mainContainer\">\r\n                <div className=\"backkey\">1{this.state.keycode}</div>\r\n                {this.state.backKeyMsg && <div className=\"backkey\">{this.state.backKeyMsg}</div>}\r\n                {showresponseMsg && <div className=\"success\">{responseMsg} <button className=\"close focusable\"> &#x2716; </button></div>}\r\n                {!this.state.plumbing && <h1>Associate: Request Service</h1>}\r\n                {this.state.plumbing && <h1>Plumbing</h1>}\r\n                <div className=\"block-wrapper\" id=\"navwrapper\">\r\n                    {\r\n                        !this.state.plumbing && dashboardNav && dashboardNav.map(item => {\r\n                            return <button key={item.id} className=\"focusable\" id={item.id} onClick={(e) => this.clickDashboard(e)}>{item.buttonText}</button>\r\n                        })\r\n                    }\r\n\r\n                    {\r\n                        this.state.plumbing && plumbingNav.map(item => {\r\n                            return <button key={item.id} className=\"focusable\" id={item.id} onClick={(e) => this.clickSublink(e)}>{item.buttonText}</button>\r\n                        })\r\n                    }\r\n                </div>\r\n                {\r\n                    this.state.showComment && <div className=\"formRow\">\r\n                        <label className=\"label\">Comments?</label>\r\n                        <textarea rows={6} className=\"focusable\" id={'plumbing'} name=\"plumbingDesc\" value={this.state.plumbingDesc} onChange={this.handleChange}></textarea>\r\n                        <div className=\"buttonRow\">\r\n                            <button className=\" btn submit focusable\" onClick={this.handleSubmit}>Submit</button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard;","import React from 'react';\r\nimport Dashboard from './Dashboard/Dashboard';\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <Dashboard />\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}